
{% extends "navigation.html" %}
{% block content %}


    <form method="POST" action="/matching">
        <input type="text" name="username">
        <input type="submit" value="Add User" name="addUser_button">
    </form>


    {% if not noUserFound %}
        <h2>Aucun utilisateur trouv√©!</h2>

    {% elif sameUser %}
        <h2>You can not make an appointment with yourself</h2>

    {% else %}
        
        {% if sameSelectedUser == False %}
            {% if foundUsers !=[] %}
        <button type="button" onclick="location.href='/add_selected_user/{{foundUsers.id}}/{{foundUsers.username}}'">
            {{foundUsers.username}}
        </button>
            {% endif %}
        {% else %}
        <h2>You already selected this user</h2>
        {% endif%}
    {% endif %}


    <ul class="selected-users-table">
        {% for value in selectedUsers.values() %}
        <li><h3 class="selected-users-table">{{ value }}</h3>
             <br>
                {% if value != name %}
                    <form method="POST" action="/matching">
                        <input type="hidden" name="rmUser" value="{{value}}">
                        <input type="submit" value="Remove User" name="rmUser_button">
                    </form>
                {% endif %}
        </li>
        {% endfor %}
    </ul>

    {% if selectedUsers|length > 1 %}
        <button type="button" onclick="location.href='/matching/asked'">
            find common timeslots
        </button>
    {% else %}
        <button type="button" disabled onclick="location.href='/matching/asked'">
            find common timeslots
        </button>
        <h3>Select at least another user</h3>
    {% endif %}


{% endblock %}